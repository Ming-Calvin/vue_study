<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="../js/vue.js"></script>
</head>
<body>
<div id="root">
  <!--
    深度监视：
    1. vue中的watch默认不使用深度监听，不监听对象内部值的改变
    2. 当加上deep: true属性时，watch函数将会进行深度监听，可以检测对象内部值的改变
  -->
  
  <div> 数字a： {{ number.a }}</div>
  <button @click="number.a++"> a++ </button>
  
  <div> 数字b： {{ number.b }}</div>
  <button @click="number.b++"> b++ </button>
</div>

<script>
  Vue.config.productionTip = false
  
  const vm = new Vue({
    el: '#root',
    data: {
      number: {
        a: 1,
        b: 1
      }
    },
    computed: {},
    methods: {
    
    },
    // 监听属性
    watch: {
      // 监视多级结构中某个属性的变化
      // 'number.a': {
      //   handler() {
      //     console.log('a changed')
      //   }
      // }
      // 监听多级结构中所有属性的改变
      number: {
        handler() {
          console.log('number change')
        },
        deep: true
      }
    }
  })
</script>
</body>
</html>
